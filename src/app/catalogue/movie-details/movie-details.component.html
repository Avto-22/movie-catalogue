<app-header></app-header>
<div class="body" *ngIf="movie">
    <div class="title">
        <h1>{{movie?.title}}</h1>
    </div>
    <div class="flags">
        <div *ngFor="let country of movie.countrys">
            <img *ngIf="country.flags" [src]="country.flags.svg" [title]="getPopulationWitchCountry(country.population)" alt='...'>
        </div>
    </div>

    <div class="main" >
        <div class="imdb" *ngIf="movie.imdbRating">
            <p>imdb: {{movie.imdbRating}}</p>
        </div>
        <div class="img" *ngIf="movie.poster">
            <img [src]="movie.poster">
        </div>
        <div clas="plot-cast" *ngIf="movie.plot">
            <div class="plot">
                <hr>
                <p>{{"MOVIE-DETAILS.PLOT" | translate}}</p>
                <hr>
                <p>{{movie.plot}}</p>
            </div>
            <div class="cast" *ngIf="movie.actors">
                <hr>
                <p>{{"MOVIE-DETAILS.ACTORS" | translate}}</p>
                <hr>
                <ul *ngFor="let actor of movie.actors.split(', ')">
                    <li>{{actor}}</li>
                </ul>
            </div>
        </div>
    </div>
    <hr>
    <p>{{"MOVIE-DETAILS.ESTIMATE" | translate}}</p>
    <hr>
    <div class="main2">
        <div class="review">
            <div class="rev">
                <p>{{"MOVIE.REVIEW" | translate}}</p>
                <div class="edit-icon"><img src="../../../assets/images/edit-button-svgrepo-com.svg" title="edit review" (click)="movieDetailsFnService.editReview(this)"></div>
                <hr>
            </div>
            <p>{{movie.review}}</p>
           
        </div>
        <div class="radioContainer rating" async >
            <p>{{"MOVIE.RATING" | translate}}: {{movieDetailsFnService.fillStar(movie.rating)}}</p>
            <label>
                <svg viewBox="0 0 576 512" width="100" title="star" class="star" id="div1">
                    <path
                        d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z" />
                </svg>
            </label>
            <label>
                <svg viewBox="0 0 576 512" width="100" title="star" class="star" id="div2">
                    <path
                        d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z" />
                </svg>
            </label>
            <label>
                <svg viewBox="0 0 576 512" width="100" title="star" class="star" id="div3">
                    <path
                        d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z" />
                </svg>
            </label>
            <label>
                <svg viewBox="0 0 576 512" width="100" title="star" class="star" id="div4">
                    <path
                        d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z" />
                </svg>
            </label>
            <label>
                <svg viewBox="0 0 576 512" width="100" title="star" class="star" id="div5">
                    <path
                        d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z" />
                </svg>
            </label>
            <div class="edit-icon"><img src="../../../assets/images/edit-button-svgrepo-com.svg" title="edit rating" (click)='movieDetailsFnService.editRating(this)'></div>
        </div>
        <div class="status">
            <p>
                {{"MOVIE.STATUS" | translate}}:
                <span class="watched" *ngIf="movie.status==status.Watched"> ნანახი</span>
                <span class="not-watched" *ngIf="movie.status==status.NotWatched"> სანახავი</span>
            </p>
            <div class="edit-icon"><img src="../../../assets/images/edit-button-svgrepo-com.svg" title="edit status" (click)='movieDetailsFnService.editStatus(this)'></div>
        </div>
    </div>

</div>